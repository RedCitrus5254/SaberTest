# О выполнении задания

Интересное тестовое задание. До этого никогда не пробовал писать свой сериализатор

Преодолел несколько сложностей:

1. Ноду не получалось десериализовать, тк в ней есть ссылки на предыдущий, следующий и рандомный элемент. Получались циклические зависимости.\
Решил, что можно не десериализовывать эти поля. Можно отправлять ноды в стрим по порядку -- так во время десериализации появляется возможность заполнить Prev и Next. Каждой ноде сгенерировал id. С помощью этого id можно было заполнить поле Random.

2. Не знал, как во время чтения стрима определить, когда заканчивается нода и начинается следующая. Подумал, что можно добавить флаг, например, 5 нулей подряд, но это ненадёжно, тк они могут встретиться в сериализованном объекте.\
Поэтому решил, что буду передавать длину ноды в начале. Таким образом, можно будет прочитать нужное количество байтов и десериализовать ноду.

3. Протестировать оказалось сложновато, тк в ноды ссылаются друг на друга.\
Пришлось написать много ассертов, чтобы убедиться, что всё работает правильно.

Написал 3 теста.

1. На сериализацию и десериализацию.\
Хотелось бы, конечно, протестировать эти методы отдельно, но не вижу способа сделать поток байтов для теста.
2. На копирование ноды.
3. Перформанс тест.\
1.000.000 нод с data < 10 символов сериализуются за 4 секунды, десериализуются за 3, копируются за 2 (на моём пк). С таким же количеством нод, но в каждой data по 2.500 символов -- комп завис).  В этом тесте нет ассерта, тк я не знаю, какой результат считать удовлетворительным.\
Память не тестировал